<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>DaoDaoLeeのBlog</title>
  
  <subtitle>所谓的迷茫，不过是清醒的看着自己沉沦</subtitle>
  <link href="https://daodaolee.cn/atom.xml" rel="self"/>
  
  <link href="https://daodaolee.cn/"/>
  <updated>2021-01-25T09:03:04.939Z</updated>
  <id>https://daodaolee.cn/</id>
  
  <author>
    <name>DaoDaoLee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>重装Mac历程</title>
    <link href="https://daodaolee.cn/2021/01/22/%E9%87%8D%E8%A3%85Mac%E5%8E%86%E7%A8%8B/"/>
    <id>https://daodaolee.cn/2021/01/22/%E9%87%8D%E8%A3%85Mac%E5%8E%86%E7%A8%8B/</id>
    <published>2021-01-22T08:08:13.000Z</published>
    <updated>2021-01-25T09:03:04.939Z</updated>
    
    <content type="html"><![CDATA[<p>自从升级了 <code>Big Sur</code> 之后，本以为 Mac变为 iPad 会更轻便更舒服，然而，平常工作状态下，cpu直飙60%左右，转速也基本在2000，用Node打个包，转速能到5000，真的简直了。常用软件虽然也慢慢的都适配了 Big Sur，但是总感觉有点不舒服（iPreview直接向下不兼容了……淦，不知道其他有没有）。于是乎在工作稳定和体验新系统的权衡之下，还是妥妥的降级到了 <code>mojave</code>。还是熟悉的配方，还是熟悉的味道，还是熟悉的百分之十以下的cpu，还是熟悉的一千多转速，哪里都很香。</p><p>因为只熟悉 <code>windows</code> 的系统，<code>Mac</code> 的话，自己还没有搞过系统，以前有过一次还是从淘宝上花钱让别人远程装了的……网上找了一堆资料，最终总结出比较踏实的重装流程，然后就开始了：</p><ol><li><p>下载系统⬇</p><p>到  <code>App Store </code> 下载相应的系统，如果在 <code>App Store</code> 里面找不到，那就去官网下载（<a href="https://apps.apple.com/cn/app/macos-big-sur/id1526878132?ls=1&mt=12">Big Sur系统链接</a>，<a href="https://apps.apple.com/cn/app/macos-catalina/id1466841314?ls=1&mt=12">Catalina系统链接</a>，<a href="https://apps.apple.com/cn/app/macos-mojave/id1398502828?ls=1&mt=12">Mojave系统链接</a>，<a href="https://apps.apple.com/cn/app/macos-high-sierra/id1246284741?ls=1&mt=12">High Sierra系统链接</a>），因为有可能商店里只有最新的系统。</p><p>下载好之后可以在 <code>Launchpad</code>界面看到一个安装程序。如果是要升级系统，直接点击就可以了，如果要降级，别点，留着。</p></li><li><p>做系统盘💿</p><p>接下来就是格式化U盘，去磁盘工具里，抹掉U盘，名称先改成 <code>MyVolume</code> ，格式为 <code>Mac OS扩展 (日志式)</code>。抹完之后就开始制作系统盘了。</p><p>根据想做的系统盘，在终端里输入以下命令（注意命令里的 <code>MyVolume</code>就是上面系统盘的名称）：</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Catalina (10.15)</span></span><br><span class="line">sudo /Applications/Install\ macOS\ Catalina.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mojave (10.14)</span></span><br><span class="line">sudo /Applications/Install\ macOS\ Mojave.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume</span><br><span class="line"></span><br><span class="line"><span class="comment"># High Sierra (10.13)</span></span><br><span class="line">sudo /Applications/Install\ macOS\ High\ Sierra.app/Contents/Resources/createinstallmedia --volume /Volumes/MyVolume</span><br></pre></td></tr></table></figure><p>然后会输入密码，输入之后回车，接着输入 <code>y</code> ，再回车就可以看到安装的进度条了，大概3~5分钟。</p><p>提示<code>  Done</code> 之后，就制作完成了。</p></li><li><p>安装✌</p><p>电脑关机，一直按住 <code>⌥alt</code>键( 也就是option )，然后开机，开机也要一直按住 <code>⌥alt</code> ，界面会出来一个磁盘和一个安装系统的图标。进去右边，选择磁盘工具，左侧选择“Macintosh HD”( 注意看清楚是“内置”栏下面的，不要选“磁盘映像”栏下面的 )，格式默认选择 <code>APFS</code> ，没有的话就选择 <code>Mac OS 扩展( 日志式 )</code>。抹完之后，点击关闭，回到之前的界面，选择 <code>安装macOS</code>。</p><p>本以为到这里就可以结束了，然而我的电脑报错了！</p><p><img src="https://i.loli.net/2021/01/25/kXiYCrSh6IRs4qj.jpg"></p><p>本来有点惊讶，还以为哪里出错了，看完这个提示之后感觉应该不是问题，就按着上面的接着操作了，重新启动后，菜单栏有个安全性实用工具，把 <code>外部启动</code> 修改为 <code>允许从外部介质启动</code> 就可以了，有点像BIOS更改启动项的味道。接下来一切顺利，重装之后是真干净，什么都没有，Xcode，Java全部干掉了，然而还是硬着头皮装回来一部分。</p><p>整个过程还是比较顺利的，有想降级的朋友可以试着降级，不必担心什么，只要东西备份好就可以了，我有内测阿里云盘的权限之后，把东西都放上去了。速度还可以，不太舒服的地方就是下载的时候不能下载文件夹，只能下载文件，有点头疼。</p><p>over~👨‍💻</p></li></ol><p>参考资料:</p><ul><li><a href="https://zhuanlan.zhihu.com/p/39103887">macOS 重装系统 Mojave Catalina Big Sur 升级 降级mac OS</a></li><li><a href="https://www.zhihu.com/question/21454213">macOS 系统如何重装？</a></li><li><a href="https://support.apple.com/zh-cn/HT204904">如何重新安装 macOS</a></li><li><a href="https://support.apple.com/zh-cn/HT208198">关于“启动安全性实用工具”</a></li><li><a href="https://discussionschinese.apple.com/thread/250455252">重装系统安装关键性更新失败</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;自从升级了 &lt;code&gt;Big Sur&lt;/code&gt; 之后，本以为 Mac变为 iPad 会更轻便更舒服，然而，平常工作状态下，cpu直飙60%左右，转速也基本在2000，用Node打个包，转速能到5000，真的简直了。常用软件虽然也慢慢的都适配了 Big Sur，但是总感</summary>
      
    
    
    
    
    <category term="Mac" scheme="https://daodaolee.cn/tags/Mac/"/>
    
  </entry>
  
  <entry>
    <title>http的option请求</title>
    <link href="https://daodaolee.cn/2019/06/24/http%E7%9A%84option%E8%AF%B7%E6%B1%82/"/>
    <id>https://daodaolee.cn/2019/06/24/http%E7%9A%84option%E8%AF%B7%E6%B1%82/</id>
    <published>2019-06-24T10:50:08.000Z</published>
    <updated>2021-01-25T07:54:09.324Z</updated>
    
    <content type="html"><![CDATA[<p>先看两张图：</p><p><img src="https://i.loli.net/2019/06/20/5d0b73254660812409.png"></p><p><img src="https://i.loli.net/2019/06/20/5d0b732a2829499623.png"></p><p>流程是这样：选择支付方式，填入充值金额，跳转到“选择银行卡界面”，但是在跳转的过程中走了2次<code>get_card</code>请求。</p><p>由于模块是H5纯静态页面，肯定会遇到跨域的问题，之前是用<code>jsonp</code>解决的，但是现在需要给后端传一堆<code>headers</code> 头部信息，然后，jsonp就不行了，因为他的实质是src标签，然后用callback传的，而且只能传get，所以这次接口的改动，只能让后端配置CORS了，也就是<code>Allow-Control-Allow-Origin: *</code> 和<code>Allow-Control-Allow-Methods:GET,POST</code> 让后端配置这个就可以了，再保险点，把<code>*</code> 变成<code>访问地址</code> ，然后就出现了上面的情况，第一次的<code>Request Method:OPTION</code> ，而且没有发送请求头，第二次就是 正常的post了。</p><p>出现第一次的原因是探测请求，客户端可以在采取具体资源请求之前，决定对该资源采取何种必要措施，或者了解服务器的性能。</p><blockquote><p>在ajax中出现options请求，也是一种提前探测的情况，ajax跨域请求时，如果请求的是json，就属于复杂请求，因此需要提前发出一次options请求，用以检查请求是否是可靠安全的，如果options获得的回应是拒绝性质的，比如404\403\500等http状态，就会停止post、put等请求的发出。</p></blockquote><p>如果你查资料(W3C规范)，你会发现在跨域请求中，分为简单请求（get和部分post，post时content-type属于application/x-www-form-urlencoded，multipart/form-data，text/plain中的一种）和复杂请求。而复杂请求发出之前，就会出现一次options请求。</p><p>参考资料：</p><p><a href="http://www.tangshuang.net/2271.html">jquery ajax 请求中多出现一次OPTIONS请求及其解决办法</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;先看两张图：&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2019/06/20/5d0b73254660812409.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2019/06/20/5d0b732a282</summary>
      
    
    
    
    <category term="FE" scheme="https://daodaolee.cn/categories/FE/"/>
    
    <category term="http" scheme="https://daodaolee.cn/categories/FE/http/"/>
    
    
    <category term="http" scheme="https://daodaolee.cn/tags/http/"/>
    
    <category term="option" scheme="https://daodaolee.cn/tags/option/"/>
    
  </entry>
  
  <entry>
    <title>form表单提交的submit和ajax区别</title>
    <link href="https://daodaolee.cn/2019/01/23/form%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E7%9A%84submit%E5%92%8Cajax%E5%8C%BA%E5%88%AB/"/>
    <id>https://daodaolee.cn/2019/01/23/form%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4%E7%9A%84submit%E5%92%8Cajax%E5%8C%BA%E5%88%AB/</id>
    <published>2019-01-23T13:05:22.000Z</published>
    <updated>2021-01-25T07:54:07.450Z</updated>
    
    <content type="html"><![CDATA[<h2 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h2><ul><li>submit：更新数据完成后，需要<strong>转到一个空白的页面</strong>再对原页面进行提交后的处理，即重绘。</li><li>ajax：异步进行，直接返回原页面进行提交后的处理，比submit少增加一个页面，即局部刷新。</li></ul><h2 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h2><ul><li>ajax：出于安全性的考虑，不能对文件进行操作，所以不可以通过ajax来实现文件上传</li><li>submit：通过隐藏form的submit可以实现文件上传</li></ul><h2 id="form默认提交"><a href="#form默认提交" class="headerlink" title="form默认提交"></a>form默认提交</h2><p>如果想要submit后<strong>不刷新页面</strong>，在该方法的最后加上 <code>return false</code> ，就可以了。</p><p><em><code>return false</code> 的含义不是阻止事件继续向顶层元素传播，而是阻止浏览器对事件的默认处理方式。在js中，它的作用一般是用来取消默认动作的。</em></p><p><em><code>return false</code> 等效于 <code>window.event.returnValue = false</code></em> 。</p><blockquote><p>因为原页面用 form 提交到另一个域名之后，原页面的脚本无法获取新页面中的内容。所以浏览器认为这是安全的。而 AJAX 是可以读取响应内容的，因此浏览器不能允许你这样做。 如果你细心的话你会发现，其实请求已经发送出去了，你只是拿不到响应而已。 所以浏览器这个策略的本质是，一个域名的 JS ，在未经允许的情况下，不得读取另一个域名的内容。但浏览器并不阻止你向另一个域名发送请求。 ——来自知乎</p></blockquote><p>有关同源策略和跨域，可以参考 <a href="https://mp.weixin.qq.com/s?__biz=MzU0OTExNzYwNg==&mid=2247483685&idx=1&sn=543e9736146405e9e5b37ec5a1c4b448">跨域的那些事儿</a></p><p>参考资料：</p><p><a href="https://www.cnblogs.com/zhujiabin/p/4901167.html">Ajax提交与传统Form表单提交的区别说明</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;页面&quot;&gt;&lt;a href=&quot;#页面&quot; class=&quot;headerlink&quot; title=&quot;页面&quot;&gt;&lt;/a&gt;页面&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;submit：更新数据完成后，需要&lt;strong&gt;转到一个空白的页面&lt;/strong&gt;再对原页面进行提交后的处理，即重绘。&lt;/l</summary>
      
    
    
    
    <category term="FE" scheme="https://daodaolee.cn/categories/FE/"/>
    
    <category term="form" scheme="https://daodaolee.cn/categories/FE/form/"/>
    
    
    <category term="form" scheme="https://daodaolee.cn/tags/form/"/>
    
    <category term="ajax" scheme="https://daodaolee.cn/tags/ajax/"/>
    
  </entry>
  
</feed>
